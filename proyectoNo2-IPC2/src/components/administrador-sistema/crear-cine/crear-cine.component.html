<main class="mx-auto admin-sistema-container">

  <div class="p-4 bg-dark bg-opacity-75 rounded-4 shadow-lg text-light">

    <div class="text-start mb-3">
      <button class="btn btn-outline-light rounded-pill px-4" (click)="volver()">
        <i class="bi bi-arrow-left-circle me-2"></i> Regresar
      </button>
    </div>

    <h2 class="fw-bold text-center fs-2 mb-4">
      <i class="bi bi-building-add me-2"></i> Crear Nuevo Cine
    </h2>

    <div class="d-flex justify-content-center align-items-center">
      <div class="cine-form-card bg-dark bg-opacity-50 text-light rounded-4 p-4 shadow-lg w-100" style="max-width: 600px;">

        <form [formGroup]="cineForm" (ngSubmit)="crearCine()">

          <div class="mb-3">
            <label class="form-label fw-semibold">
              <i class="bi bi-card-text me-2"></i> Nombre del Cine
            </label>
            <input type="text" class="form-control custom-input" formControlName="nombre" placeholder="Ej: Cine Nova">

            @if (cineForm.get('nombre')?.invalid && cineForm.get('nombre')?.touched) {
              <small class="text-danger">El nombre debe tener al menos 3 caracteres.</small>
            }
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">
              <i class="bi bi-pencil-square me-2"></i> Descripción
            </label>
            <textarea class="form-control custom-input" rows="3"
              formControlName="descripcion" placeholder="Descripción breve del cine..."></textarea>

            @if (cineForm.get('descripcion')?.invalid && cineForm.get('descripcion')?.touched) {
              <small class="text-danger">La descripción es obligatoria.</small>
            }
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">
              <i class="bi bi-geo-alt-fill me-2"></i> Ubicación
            </label>
            <input type="text" class="form-control custom-input" formControlName="ubicacion" placeholder="Ej: Zona 10, Ciudad de Guatemala">

            @if (cineForm.get('ubicacion')?.invalid && cineForm.get('ubicacion')?.touched) {
              <small class="text-danger">La ubicación es obligatoria.</small>
            }
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">
              <i class="bi bi-cash-stack me-2"></i> Monto de Ocultación de anuncios
            </label>
            <input type="number" class="form-control custom-input" formControlName="montoOcultacion" placeholder="Ej: 150.00">

            @if (cineForm.get('montoOcultacion')?.invalid && cineForm.get('montoOcultacion')?.touched) {
              <small class="text-danger">Monto inválido.</small>
            }
          </div>

          <div class="mb-3">
            <label class="form-label fw-semibold">
              <i class="bi bi-calendar-event me-2"></i> Fecha de Creación
            </label>
            <input type="date" class="form-control custom-input" formControlName="fechaCreacion">

            @if (cineForm.get('fechaCreacion')?.invalid && cineForm.get('fechaCreacion')?.touched) {
              <small class="text-danger">Debes elegir una fecha válida.</small>
            }
          </div>

          <div class="text-center d-flex justify-content-center gap-3 mt-4">
            <button type="button" class="btn btn-outline-light px-4 py-2 rounded-pill mx-3"
                    (click)="limpiarDatos()">Limpiar</button>

            <button class="btn btn-warning fw-semibold rounded-pill px-5 py-2 submit-btn"
              [disabled]="cineForm.invalid">
              <i class="bi bi-plus-circle me-2"></i> Crear Cine
            </button>
          </div>

        </form>

      </div>
    </div>

  </div>

</main>

<app-fullscreen-modal [mensaje]="mensajeModal" [tipo]="tipoModal" [mostrar]="mostrarModal"
    (cerrarEvent)="mostrarModal = false">
</app-fullscreen-modal>

<ng-container *ngIf="mostrarPopup">
    <app-shared-popup [mensaje]="mensajePopup" [tipo]="tipoPopup" [mostrar]="mostrarPopup"
        (cerrarEvent)="mostrarPopup = false">
    </app-shared-popup>
</ng-container>
