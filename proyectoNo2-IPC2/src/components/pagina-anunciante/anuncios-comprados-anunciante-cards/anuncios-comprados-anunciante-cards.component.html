<div
    class="anuncio-card text-light mt-4 rounded-4 shadow-lg p-3 bg-gradient overflow-hidden justify-content-center align-items-center">

    <div class="anuncio-bg"></div>

    <div class="contenido text-center align-items-center">
        <h5 class="fw-bold mb-3 fs-4">{{ anuncio.nombre }}</h5>

        <ng-container *ngIf="esImagen(); else videoBlock">
            <div *ngIf="getImagenBase64()" class="img-container mb-3">
                <img [src]="getImagenBase64()" alt="{{ anuncio.nombre }}" class="anuncio-img rounded" />
            </div>
        </ng-container>

        <ng-template #videoBlock>
            <iframe *ngIf="esVideo() && anuncio.url" [src]="getVideoUrl()" width="100%" height="180"
                class="rounded mb-2" frameborder="0" allowfullscreen></iframe>
        </ng-template>

        <p class="text-warning fw-bold mt-2 fs-3">
            <i class="bi bi-play fs-3"></i> {{ anuncio.codigo }}
        </p>

        <span *ngIf="!anuncio.caducacion" class="badge rounded-pill px-3 py-2 fs-6 mb-3"
            [ngClass]="anuncio.estado ? 'bg-success' : 'bg-danger'">
            {{ anuncio.estado ? 'Activo' : 'Inactivo' }}
        </span>

        <p class="text-info mb-4 fs-5 fw-bold">
            {{ anuncio.texto }}
        </p>




        <p class="text-light-50 mb-3 fs-5">
            <i class="bi bi-calendar-check me-2"></i> Compra: {{ anuncio.fechaCompra | date:'mediumDate' }}
        </p>
        <p class="text-light-50 mb-3 fs-5">
            <i class="bi bi-calendar-x me-2"></i> Expiraci√≥n: {{ anuncio.fechaExpiracion | date:'mediumDate' }}
        </p>
        <p class="text-success mb-1 fs-5 fw-bold">
            <i class="bi bi-person-fill me-2"></i> Usuario: {{ anuncio.idUsuario }}
        </p>

        <p class="text-info mb-3 fs-5 fw-bold">
            <i class="bi bi-person-fill me-2"></i> Nombre: {{ anuncio.nombreUsuario }}
        </p>

        <p class="fw-semibold text-warning mb-2 fs-4">
            {{ getTipoAnuncio(anuncio.codigoTipo) }}
        </p>


        <hr class="bg-dark border-4 border-top border-dark my-3">

        <div class="estado mt-3">


            <button *ngIf="!anuncio.caducacion" class="btn btn-warning fw-bold mx-3 btn-estado" (click)="editarAnuncio()">
                Editar
            </button>
            <button *ngIf="!anuncio.caducacion" class="btn-estado"
                [ngClass]="anuncio.estado ? 'btn-danger' : 'btn-success'" (click)="cambiarEstado()">
                {{ anuncio.estado ? 'Desactivar' : 'Activar' }}
            </button>



            <div *ngIf="anuncio.caducacion" class="badge bg-secondary w-100 py-2 fs-5 mt-2">
                Expirado
            </div>

        </div>

    </div>
</div>